<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Procedural Texturing # Background # Is the method of generating textures by providing a set of parameters, these parameters are sent to an algorithm (in our case a shader) and it will create its own variations, using this method, computers generate data automatically, it is quite useful to make large textures , that wouldn&rsquo;t be practical doing by hand, also reduces the need of storage for textures, and provides almost unlimited texture resolution."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Procedural Texturing # Background # Is the method of generating textures by providing a set of parameters, these parameters are sent to an algorithm (in our case a shader) and it will create its own variations, using this method, computers generate data automatically, it is quite useful to make large textures , that wouldn&rsquo;t be practical doing by hand, also reduces the need of storage for textures, and provides almost unlimited texture resolution."><meta property="og:type" content="article"><meta property="og:url" content="https://visualcomputing.github.io/showcase/docs/shortcodes/Kevin-Alvarez-taller-3/Procedural-Texturing/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-06-27T22:15:44-05:00"><title>Procedural Texturing | Showcase Template</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.ab46de3e725a6415339a37bba23a0067534a37289b063c9f8d011515a63097a8.css integrity="sha256-q0bePnJaZBUzmje7ojoAZ1NKNyibBjyfjQEVFaYwl6g=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.baa5096079f7378b86917f44977826a02e43c30a8115a2bb96e170612c901558.js integrity="sha256-uqUJYHn3N4uGkX9El3gmoC5DwwqBFaK7luFwYSyQFVg=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Shortcodes</span><ul><li><a href=/showcase/docs/shortcodes/Alex-Jose-Alberto-Barreto-Cajica/>Alex Jose Alberto Barreto Cajica</a></li><li class=book-section-flat><input type=checkbox id=section-630935959cdea826d86db722189d9fc3 class=toggle>
<label for=section-630935959cdea826d86db722189d9fc3 class="flex justify-between"><a role=button>Alex Barreto Taller 3</a></label><ul><li><a href=/showcase/docs/shortcodes/Alex-Barreto-Taller-3/imageProcessingAB/>Image Processing Ab</a></li><li><a href=/showcase/docs/shortcodes/Alex-Barreto-Taller-3/proceduralTexturingAB/>Procedural Texturing Ab</a></li><li><a href=/showcase/docs/shortcodes/Alex-Barreto-Taller-3/ShadersColoring/>Shaders Coloring</a></li><li><a href=/showcase/docs/shortcodes/Alex-Barreto-Taller-3/texturing3d/>Texturing3d</a></li></ul></li><li><a href=/showcase/docs/shortcodes/Kevin-Leonardo-Alvarez-Mora/>Kevin Leonardo Alvarez Mora</a></li><li class=book-section-flat><input type=checkbox id=section-6c82348cc7e27aac3c1d770d323371bc class=toggle checked>
<label for=section-6c82348cc7e27aac3c1d770d323371bc class="flex justify-between"><a role=button>Kevin Alvarez Taller 3</a></label><ul><li><a href=/showcase/docs/shortcodes/Kevin-Alvarez-taller-3/Image-Processing/>Image Processing</a></li><li><a href=/showcase/docs/shortcodes/Kevin-Alvarez-taller-3/Normal-Map-Test/>Normal Map Test</a></li><li><a href=/showcase/docs/shortcodes/Kevin-Alvarez-taller-3/Procedural-Texturing/ class=active>Procedural Texturing</a></li><li><a href=/showcase/docs/shortcodes/Kevin-Alvarez-taller-3/Texture-Sampling/>Texture Sampling</a></li><li><a href=/showcase/docs/shortcodes/Kevin-Alvarez-taller-3/Texturing-and-Coloring/>Texturing and Coloring</a></li></ul></li><li class=book-section-flat><input type=checkbox id=section-0fadc94d8f5643cd50fedd7792885ef2 class=toggle>
<label for=section-0fadc94d8f5643cd50fedd7792885ef2 class="flex justify-between"><a role=button>Taller 1</a></label><ul><li><a href=/showcase/docs/shortcodes/Taller-1/Taller1/>Taller1</a></li><li><a href=/showcase/docs/shortcodes/Taller-1/webgltest/>Webgltest</a></li></ul></li><li class=book-section-flat><input type=checkbox id=section-95240f4003777a8a4aa5703702dd7bb0 class=toggle>
<label for=section-95240f4003777a8a4aa5703702dd7bb0 class="flex justify-between"><a role=button>Taller 2</a></label><ul><li><a href=/showcase/docs/shortcodes/Taller-2/3d-Brush/>3d Brush</a></li><li><a href=/showcase/docs/shortcodes/Taller-2/Rasterization/>Rasterization</a></li><li><a href=/showcase/docs/shortcodes/Taller-2/WebCamTest/>Web Cam Test</a></li></ul></li></ul></li></ul><ul><li><a href=/showcase/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Procedural Texturing</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#procedural-texturing>Procedural Texturing</a></li><li><a href=#background>Background</a></li><li><a href=#results>Results</a></li><li><a href=#conclusions-and-future-work>Conclusions and Future Work</a></li><li><a href=#references>References</a></li></ul></nav></aside></header><article class=markdown><h1 id=procedural-texturing>Procedural Texturing
<a class=anchor href=#procedural-texturing>#</a></h1><h1 id=background>Background
<a class=anchor href=#background>#</a></h1><p>Is the method of generating textures by providing a set of parameters, these parameters are sent to an algorithm (in our case a shader) and it will create its own variations, using this method, computers generate data automatically, it is quite useful to make large textures , that wouldn&rsquo;t be practical doing by hand, also reduces the need of storage for textures, and provides almost unlimited texture resolution.</p><p>Using this method, we can create patters, without using too much computing power (the number of calculations should remain constant).</p><h1 id=results>Results
<a class=anchor href=#results>#</a></h1><p>Keeping this idea in mind, we use a shader to implement various different patterns, you can choose the style of patter you want to see, use the sliders to change certain parameters of the pattern (like repetition, size or rotation). It is also interesting how we can send different parameters to our shader, like time, using this, we can create more vivid effects like color changing or movement of the texture (see Style 2, which changes its patterns almost every two seconds)</p><iframe id=tiles style=width:600px;height:600px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.js></script> 
             <script src=https://cdn.jsdelivr.net/gh/freshfork/p5.EasyCam@1.2.1/p5.easycam.js></script> 
            
            
            
            <script src=/showcase/sketches/tiles.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe>
<details><summary>tiles.js</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>pg</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>truchetShader</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorer</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>colorer2</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>styler</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>gameStarted</span> <span style=color:#f92672>=</span> <span style=color:#66d9ef>false</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>truchetShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;truchet.frag&#39;</span>, { <span style=color:#a6e22e>matrices</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NONE</span>, <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>NONE</span> });
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorer</span> <span style=color:#f92672>=</span> Math.<span style=color:#a6e22e>random</span>() <span style=color:#f92672>*</span> <span style=color:#ae81ff>1.5</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>colorer2</span> <span style=color:#f92672>=</span>  Math.<span style=color:#a6e22e>random</span>() <span style=color:#f92672>*</span> <span style=color:#ae81ff>1.5</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>truchetShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;v1&#39;</span>, <span style=color:#a6e22e>colorer</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>truchetShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;v2&#39;</span>, <span style=color:#a6e22e>colorer2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>600</span>, <span style=color:#ae81ff>600</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// create frame buffer object to render the procedural texture
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>pg</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createGraphics</span>(<span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>400</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// use truchetShader to render onto pg
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>truchetShader</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// emitResolution, see:
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// https://github.com/VisualComputing/p5.treegl#macros
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>emitResolution</span>(<span style=color:#a6e22e>truchetShader</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// https://p5js.org/reference/#/p5.Shader/setUniform
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>tiling</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0.05</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tiling</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>30</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tiling</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;width&#34;</span>, <span style=color:#e6db74>&#34;280px&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tiling2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>3.14</span>, <span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>3.14</span>, <span style=color:#ae81ff>0.05</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tiling2</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>45</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>tiling2</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#34;width&#34;</span>, <span style=color:#e6db74>&#34;280px&#34;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>truchetShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;u_zoom&#39;</span>, <span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// pg clip-space quad (i.e., both x and y vertex coordinates ∈ [-1..1])
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>quad</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// set pg as texture
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>texture</span>(<span style=color:#a6e22e>pg</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Donut&#34;</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Cube&#34;</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Sphere&#34;</span>, <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Cone&#34;</span>, <span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Cylinder&#34;</span>, <span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSelect</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option2</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>400</span>, <span style=color:#ae81ff>10</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option2</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Style 1&#34;</span>, <span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option2</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Style 2&#34;</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option2</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Style 3&#34;</span>, <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option2</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Style 4&#34;</span>, <span style=color:#ae81ff>3</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>option2</span>.<span style=color:#a6e22e>option</span>(<span style=color:#e6db74>&#34;Style 5&#34;</span>, <span style=color:#ae81ff>4</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>120</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>orbitControl</span>();
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>option2</span>.<span style=color:#a6e22e>value</span>()<span style=color:#f92672>==</span><span style=color:#ae81ff>0</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>styler</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>truchetShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;option&#39;</span>,<span style=color:#a6e22e>styler</span>);
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>option2</span>.<span style=color:#a6e22e>value</span>()<span style=color:#f92672>==</span><span style=color:#ae81ff>1</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>styler</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>truchetShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;option&#39;</span>,<span style=color:#a6e22e>styler</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>truchetShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;u_rotater&#39;</span>, <span style=color:#a6e22e>tiling2</span>.<span style=color:#a6e22e>value</span>(<span style=color:#ae81ff>4</span>));
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>option2</span>.<span style=color:#a6e22e>value</span>()<span style=color:#f92672>==</span><span style=color:#ae81ff>2</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>styler</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>truchetShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;option&#39;</span>,<span style=color:#a6e22e>styler</span>);
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>option2</span>.<span style=color:#a6e22e>value</span>()<span style=color:#f92672>==</span><span style=color:#ae81ff>3</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>styler</span><span style=color:#f92672>=</span><span style=color:#ae81ff>3</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>truchetShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;option&#39;</span>,<span style=color:#a6e22e>styler</span>);
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>option2</span>.<span style=color:#a6e22e>value</span>()<span style=color:#f92672>==</span><span style=color:#ae81ff>4</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>styler</span><span style=color:#f92672>=</span><span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>truchetShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;option&#39;</span>,<span style=color:#a6e22e>styler</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>option</span>.<span style=color:#a6e22e>value</span>()<span style=color:#f92672>==</span><span style=color:#ae81ff>0</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>torus</span>(<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>50</span>);
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>option</span>.<span style=color:#a6e22e>value</span>()<span style=color:#f92672>==</span><span style=color:#ae81ff>1</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>box</span>(<span style=color:#ae81ff>200</span>, <span style=color:#ae81ff>200</span>);
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>option</span>.<span style=color:#a6e22e>value</span>()<span style=color:#f92672>==</span><span style=color:#ae81ff>2</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>sphere</span>(<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>100</span>);
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>option</span>.<span style=color:#a6e22e>value</span>()<span style=color:#f92672>==</span><span style=color:#ae81ff>3</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cone</span>(<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>200</span>);
</span></span><span style=display:flex><span>  }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>option</span>.<span style=color:#a6e22e>value</span>()<span style=color:#f92672>==</span><span style=color:#ae81ff>4</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>cylinder</span>(<span style=color:#ae81ff>100</span>, <span style=color:#ae81ff>200</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>truchetShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;u_zoom&#39;</span>, <span style=color:#a6e22e>tiling</span>.<span style=color:#a6e22e>value</span>());
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>truchetShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;u_rotater&#39;</span>, <span style=color:#a6e22e>tiling2</span>.<span style=color:#a6e22e>value</span>());
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>print</span>(<span style=color:#a6e22e>tiling2</span>.<span style=color:#a6e22e>value</span>());
</span></span><span style=display:flex><span>  <span style=color:#75715e>// pg clip-space quad (i.e., both x and y vertex coordinates ∈ [-1..1])
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>pg</span>.<span style=color:#a6e22e>quad</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>frameCount</span><span style=color:#f92672>%</span><span style=color:#ae81ff>60</span><span style=color:#f92672>==</span><span style=color:#ae81ff>0</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>truchetShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;u_time&#39;</span>, <span style=color:#a6e22e>frameCount</span><span style=color:#f92672>/</span><span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>   
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><details><summary>truchet.frag</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>ifdef</span> <span style=color:#a6e22e>GL_ES</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>precision</span> <span style=color:#a6e22e>mediump</span> <span style=color:#66d9ef>float</span>;
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>endif</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>define</span> <span style=color:#a6e22e>PI</span> <span style=color:#ae81ff>3.14159265359</span>
</span></span><span style=display:flex><span><span style=color:#960050;background-color:#1e0010>#</span><span style=color:#a6e22e>define</span> <span style=color:#a6e22e>TWO_PI</span> <span style=color:#ae81ff>6.28318530718</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>u_resolution</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>u_time</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>u_zoom</span>, <span style=color:#a6e22e>u_rotater</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>v1</span>,<span style=color:#a6e22e>v2</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>int</span> <span style=color:#a6e22e>option</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>u_mouse</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> <span style=color:#a6e22e>shape</span>(<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>st</span>, <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>N</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>st</span><span style=color:#f92672>*</span><span style=color:#ae81ff>2.</span><span style=color:#f92672>-</span><span style=color:#ae81ff>1.</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>atan</span>(<span style=color:#a6e22e>st</span>.<span style=color:#a6e22e>x</span>,<span style=color:#a6e22e>st</span>.<span style=color:#a6e22e>y</span>)<span style=color:#f92672>+</span><span style=color:#a6e22e>PI</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>r</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>TWO_PI</span><span style=color:#f92672>/</span><span style=color:#a6e22e>N</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>abs</span>(<span style=color:#a6e22e>cos</span>(<span style=color:#a6e22e>floor</span>(.<span style=color:#ae81ff>5</span><span style=color:#f92672>+</span><span style=color:#a6e22e>a</span><span style=color:#f92672>/</span><span style=color:#a6e22e>r</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>r</span><span style=color:#f92672>-</span><span style=color:#a6e22e>a</span>)<span style=color:#f92672>*</span><span style=color:#a6e22e>length</span>(<span style=color:#a6e22e>st</span>));
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> <span style=color:#a6e22e>box2</span>(<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>st</span>, <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>size</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>shape</span>(<span style=color:#a6e22e>st</span><span style=color:#f92672>*</span><span style=color:#a6e22e>size</span>,<span style=color:#a6e22e>u_rotater</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> <span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>_st</span>, <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>_size</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>_size</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>0.5</span>)<span style=color:#f92672>-</span><span style=color:#a6e22e>_size</span><span style=color:#f92672>*</span><span style=color:#ae81ff>0.5</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>uv</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>smoothstep</span>(<span style=color:#a6e22e>_size</span>,<span style=color:#a6e22e>_size</span><span style=color:#f92672>+</span><span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>1e-4</span>),<span style=color:#a6e22e>_st</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>uv</span> <span style=color:#f92672>*=</span> <span style=color:#a6e22e>smoothstep</span>(<span style=color:#a6e22e>_size</span>,<span style=color:#a6e22e>_size</span><span style=color:#f92672>+</span><span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>1e-4</span>),<span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>1.0</span>)<span style=color:#f92672>-</span><span style=color:#a6e22e>_st</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>uv</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>*</span><span style=color:#a6e22e>uv</span>.<span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> <span style=color:#a6e22e>hex</span>(<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>st</span>, <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>a</span>, <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>b</span>, <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>c</span>, <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>d</span>, <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>e</span>, <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>f</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>st</span><span style=color:#f92672>*</span><span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>2.</span>,<span style=color:#ae81ff>6.</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>fpos</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fract</span>(<span style=color:#a6e22e>st</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>ipos</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>st</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>ipos</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1.0</span>) <span style=color:#a6e22e>fpos</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.</span><span style=color:#f92672>-</span><span style=color:#a6e22e>fpos</span>.<span style=color:#a6e22e>x</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>ipos</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>1.0</span>){
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>mix</span>(<span style=color:#a6e22e>box2</span>(<span style=color:#a6e22e>fpos</span>, <span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>0.84</span>,<span style=color:#ae81ff>1.</span>)),<span style=color:#a6e22e>box2</span>(<span style=color:#a6e22e>fpos</span><span style=color:#f92672>-</span><span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>0.03</span>,<span style=color:#ae81ff>0.</span>),<span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>1.</span>)),<span style=color:#a6e22e>a</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>ipos</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>2.0</span>){
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>mix</span>(<span style=color:#a6e22e>box2</span>(<span style=color:#a6e22e>fpos</span>, <span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>0.84</span>,<span style=color:#ae81ff>1.</span>)),<span style=color:#a6e22e>box2</span>(<span style=color:#a6e22e>fpos</span><span style=color:#f92672>-</span><span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>0.03</span>,<span style=color:#ae81ff>0.</span>),<span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>1.</span>)),<span style=color:#a6e22e>b</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>ipos</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>3.0</span>){
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>mix</span>(<span style=color:#a6e22e>box2</span>(<span style=color:#a6e22e>fpos</span>, <span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>0.84</span>,<span style=color:#ae81ff>1.</span>)),<span style=color:#a6e22e>box2</span>(<span style=color:#a6e22e>fpos</span><span style=color:#f92672>-</span><span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>0.03</span>,<span style=color:#ae81ff>0.</span>),<span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>1.</span>)),<span style=color:#a6e22e>c</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>ipos</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>4.0</span>){
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>mix</span>(<span style=color:#a6e22e>box2</span>(<span style=color:#a6e22e>fpos</span>, <span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>0.84</span>,<span style=color:#ae81ff>1.</span>)),<span style=color:#a6e22e>box2</span>(<span style=color:#a6e22e>fpos</span><span style=color:#f92672>-</span><span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>0.03</span>,<span style=color:#ae81ff>0.</span>),<span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>1.</span>)),<span style=color:#a6e22e>d</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>ipos</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>5.0</span>){
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>mix</span>(<span style=color:#a6e22e>box2</span>(<span style=color:#a6e22e>fpos</span>, <span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>0.84</span>,<span style=color:#ae81ff>1.</span>)),<span style=color:#a6e22e>box2</span>(<span style=color:#a6e22e>fpos</span><span style=color:#f92672>-</span><span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>0.03</span>,<span style=color:#ae81ff>0.</span>),<span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>1.</span>)),<span style=color:#a6e22e>e</span>);
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>ipos</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>6.0</span>){
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>mix</span>(<span style=color:#a6e22e>box2</span>(<span style=color:#a6e22e>fpos</span>, <span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>0.84</span>,<span style=color:#ae81ff>1.</span>)),<span style=color:#a6e22e>box2</span>(<span style=color:#a6e22e>fpos</span><span style=color:#f92672>-</span><span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>0.03</span>,<span style=color:#ae81ff>0.</span>),<span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>1.</span>)),<span style=color:#a6e22e>f</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0.0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> <span style=color:#a6e22e>hex</span>(<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>st</span>, <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>N</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>b</span>[<span style=color:#ae81ff>6</span>];
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>remain</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>mod</span>(<span style=color:#a6e22e>N</span>,<span style=color:#ae81ff>64.</span>));
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span>(<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>6</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>b</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.0</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>b</span>[<span style=color:#a6e22e>i</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>step</span>(<span style=color:#ae81ff>1.0</span>,<span style=color:#a6e22e>mod</span>(<span style=color:#a6e22e>remain</span>,<span style=color:#ae81ff>2.</span>));
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>remain</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ceil</span>(<span style=color:#a6e22e>remain</span><span style=color:#f92672>/</span><span style=color:#ae81ff>2.</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>hex</span>(<span style=color:#a6e22e>st</span>,<span style=color:#a6e22e>b</span>[<span style=color:#ae81ff>0</span>],<span style=color:#a6e22e>b</span>[<span style=color:#ae81ff>1</span>],<span style=color:#a6e22e>b</span>[<span style=color:#ae81ff>2</span>],<span style=color:#a6e22e>b</span>[<span style=color:#ae81ff>3</span>],<span style=color:#a6e22e>b</span>[<span style=color:#ae81ff>4</span>],<span style=color:#a6e22e>b</span>[<span style=color:#ae81ff>5</span>]);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>mirrorTile</span>(<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>_st</span>, <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>_zoom</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>_st</span> <span style=color:#f92672>*=</span> <span style=color:#a6e22e>_zoom</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>fract</span>(<span style=color:#a6e22e>_st</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.5</span>) <span style=color:#f92672>&gt;</span> <span style=color:#ae81ff>0.5</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>_st</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>_st</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>0.5</span>;
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>_st</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>_st</span>.<span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fract</span>(<span style=color:#a6e22e>_st</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> <span style=color:#a6e22e>fillY</span>(<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>_st</span>, <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>_pct</span>,<span style=color:#66d9ef>float</span> <span style=color:#a6e22e>_antia</span>){
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span>  <span style=color:#a6e22e>smoothstep</span>( <span style=color:#a6e22e>_pct</span><span style=color:#f92672>-</span><span style=color:#a6e22e>_antia</span>, <span style=color:#a6e22e>_pct</span>, <span style=color:#a6e22e>_st</span>.<span style=color:#a6e22e>y</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>brickTile</span>(<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>_st</span>, <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>_zoom</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>_st</span> <span style=color:#f92672>*=</span> <span style=color:#a6e22e>_zoom</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// Here is where the offset is happening
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>    <span style=color:#a6e22e>_st</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>step</span>(<span style=color:#ae81ff>1.</span>, <span style=color:#a6e22e>mod</span>(<span style=color:#a6e22e>_st</span>.<span style=color:#a6e22e>y</span>,<span style=color:#ae81ff>4.0</span>)) <span style=color:#f92672>*</span> <span style=color:#ae81ff>0.5</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>fract</span>(<span style=color:#a6e22e>_st</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> <span style=color:#a6e22e>box</span>(<span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>_st</span>, <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>_size</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>_size</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>0.5</span>)<span style=color:#f92672>-</span>(<span style=color:#a6e22e>u_zoom</span><span style=color:#f92672>*</span><span style=color:#ae81ff>0.05</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>uv</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>smoothstep</span>(<span style=color:#a6e22e>_size</span>,<span style=color:#a6e22e>_size</span><span style=color:#f92672>+</span><span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>1e-2</span>),<span style=color:#a6e22e>_st</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>uv</span> <span style=color:#f92672>*=</span> <span style=color:#a6e22e>smoothstep</span>(<span style=color:#a6e22e>_size</span>,<span style=color:#a6e22e>_size</span><span style=color:#f92672>+</span><span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>1e-4</span>),<span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>1.0</span>)<span style=color:#f92672>-</span><span style=color:#a6e22e>_st</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>option</span><span style=color:#f92672>==</span><span style=color:#ae81ff>0</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>uv</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>*</span><span style=color:#a6e22e>uv</span>.<span style=color:#a6e22e>y</span>;}
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>option</span><span style=color:#f92672>==</span><span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>uv</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#a6e22e>uv</span>.<span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span>    }<span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>option</span><span style=color:#f92672>==</span><span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span>    {
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>uv</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>-</span><span style=color:#a6e22e>uv</span>.<span style=color:#a6e22e>y</span>;
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>(<span style=color:#66d9ef>void</span>){
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>option</span> <span style=color:#f92672>==</span> <span style=color:#ae81ff>1</span>){
</span></span><span style=display:flex><span>     <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>gl_FragCoord</span>.<span style=color:#a6e22e>xy</span><span style=color:#f92672>/</span><span style=color:#a6e22e>u_resolution</span>.<span style=color:#a6e22e>xy</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>st</span>.<span style=color:#a6e22e>y</span> <span style=color:#f92672>*=</span> <span style=color:#a6e22e>u_resolution</span>.<span style=color:#a6e22e>y</span><span style=color:#f92672>/</span><span style=color:#a6e22e>u_resolution</span>.<span style=color:#a6e22e>x</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>st</span> <span style=color:#f92672>*=</span> <span style=color:#a6e22e>u_zoom</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>fpos</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fract</span>(<span style=color:#a6e22e>st</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>ipos</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>floor</span>(<span style=color:#a6e22e>st</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>t</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>u_time</span><span style=color:#f92672>*</span><span style=color:#a6e22e>u_rotater</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>df</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.0</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>df</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>hex</span>(<span style=color:#a6e22e>fpos</span>,<span style=color:#a6e22e>ipos</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#a6e22e>ipos</span>.<span style=color:#a6e22e>y</span><span style=color:#f92672>+</span><span style=color:#a6e22e>t</span>)<span style=color:#f92672>+</span>(<span style=color:#ae81ff>1.0</span><span style=color:#f92672>-</span><span style=color:#a6e22e>rect</span>(<span style=color:#a6e22e>fpos</span>,<span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>0.7</span>)));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>mix</span>(<span style=color:#a6e22e>vec3</span>(<span style=color:#ae81ff>0.</span>),<span style=color:#a6e22e>vec3</span>(<span style=color:#ae81ff>0.9</span>),<span style=color:#a6e22e>step</span>(<span style=color:#ae81ff>0.7</span>,<span style=color:#a6e22e>df</span>)),<span style=color:#ae81ff>1.0</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>option</span> <span style=color:#f92672>==</span><span style=color:#ae81ff>4</span>){
</span></span><span style=display:flex><span>        <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>gl_FragCoord</span>.<span style=color:#a6e22e>xy</span><span style=color:#f92672>/</span><span style=color:#a6e22e>u_resolution</span>.<span style=color:#a6e22e>xy</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec3</span> <span style=color:#a6e22e>color</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec3</span>(<span style=color:#ae81ff>0.0</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>mirrorTile</span>(<span style=color:#a6e22e>st</span><span style=color:#f92672>*</span><span style=color:#a6e22e>vec2</span>(<span style=color:#ae81ff>1.</span>,<span style=color:#ae81ff>2.</span>),<span style=color:#ae81ff>5.</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>x</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>st</span>.<span style=color:#a6e22e>x</span><span style=color:#f92672>*</span><span style=color:#a6e22e>u_zoom</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>a</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>floor</span>(<span style=color:#ae81ff>1.</span><span style=color:#f92672>+</span><span style=color:#a6e22e>sin</span>(<span style=color:#a6e22e>x</span><span style=color:#f92672>*</span><span style=color:#a6e22e>u_rotater</span>));
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>b</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>floor</span>(<span style=color:#ae81ff>1.</span><span style=color:#f92672>+</span><span style=color:#a6e22e>sin</span>((<span style=color:#a6e22e>x</span><span style=color:#f92672>+</span><span style=color:#ae81ff>1.</span>)<span style=color:#f92672>*</span><span style=color:#ae81ff>3.14</span>));
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>f</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>fract</span>(<span style=color:#a6e22e>x</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>color</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec3</span>( <span style=color:#a6e22e>fillY</span>(<span style=color:#a6e22e>st</span>,<span style=color:#a6e22e>mix</span>(<span style=color:#a6e22e>a</span>,<span style=color:#a6e22e>b</span>,<span style=color:#a6e22e>f</span>),<span style=color:#ae81ff>0.01</span>) );
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>   <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#ae81ff>10.5</span>,<span style=color:#ae81ff>9.5</span>,<span style=color:#a6e22e>color</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>gl_FragCoord</span>.<span style=color:#a6e22e>xy</span><span style=color:#f92672>/</span><span style=color:#a6e22e>u_resolution</span>.<span style=color:#a6e22e>xy</span>;
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec3</span> <span style=color:#a6e22e>color</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec3</span>(<span style=color:#ae81ff>1.5</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>brickTile</span>(<span style=color:#a6e22e>st</span>,<span style=color:#a6e22e>u_rotater</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>color</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec3</span>(<span style=color:#a6e22e>box</span>(<span style=color:#a6e22e>st</span>,<span style=color:#a6e22e>vec2</span>(<span style=color:#a6e22e>v1</span>)));
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#ae81ff>10.5</span>,<span style=color:#ae81ff>9.5</span>,<span style=color:#a6e22e>color</span>);
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><h1 id=conclusions-and-future-work>Conclusions and Future Work
<a class=anchor href=#conclusions-and-future-work>#</a></h1><p>It is quite interesting to see how it is possible to add multiple features and processes to the same shader without losing any performance, using a simple if, we were able to implement many different patterns, and we were also able to send parameters, modifying how the texture looked. For the future we wish to implement more animated textures, or even, be able to send video or the web cam as shader and try to generate patterns using these sources.</p><h1 id=references>References
<a class=anchor href=#references>#</a></h1><p>Patterns code found on The Book Of Shaders</p><ul><li><a href=https://thebookofshaders.com/examples/>https://thebookofshaders.com/examples/</a></li><li><a href=https://en.wikipedia.org/wiki/Procedural_texture>https://en.wikipedia.org/wiki/Procedural_texture</a></li><li><a href=https://conceptartempire.com/procedural-textures-maps/>https://conceptartempire.com/procedural-textures-maps/</a></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/9c9ac0243b52bef74371964fe5de683386560fce title='Last modified by Klalvarezm | June 28, 2022' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 28, 2022</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#procedural-texturing>Procedural Texturing</a></li><li><a href=#background>Background</a></li><li><a href=#results>Results</a></li><li><a href=#conclusions-and-future-work>Conclusions and Future Work</a></li><li><a href=#references>References</a></li></ul></nav></div></aside></main></body></html>