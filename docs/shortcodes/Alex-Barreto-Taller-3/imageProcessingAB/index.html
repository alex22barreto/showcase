<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Procesamiento digital de imágenes # El procesamiento de imágenes digitales es el conjunto de técnicas que se aplican a las imágenes digitales con el objetivo de mejorar la calidad o facilitar la búsqueda de información.
Proceso de filtrado # Es el conjunto de técnicas englobadas dentro del preprocesamiento de imágenes cuyo objetivo fundamental es obtener, a partir de una imagen origen, otra final cuyo resultado sea más adecuado para una aplicación específica mejorando ciertas características de la misma que posibilite efectuar operaciones del procesado sobre ella."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Procesamiento digital de imágenes # El procesamiento de imágenes digitales es el conjunto de técnicas que se aplican a las imágenes digitales con el objetivo de mejorar la calidad o facilitar la búsqueda de información.
Proceso de filtrado # Es el conjunto de técnicas englobadas dentro del preprocesamiento de imágenes cuyo objetivo fundamental es obtener, a partir de una imagen origen, otra final cuyo resultado sea más adecuado para una aplicación específica mejorando ciertas características de la misma que posibilite efectuar operaciones del procesado sobre ella."><meta property="og:type" content="article"><meta property="og:url" content="https://visualcomputing.github.io/showcase/docs/shortcodes/Alex-Barreto-Taller-3/imageProcessingAB/"><meta property="article:section" content="docs"><meta property="article:modified_time" content="2022-06-27T23:32:23-05:00"><title>Image Processing Ab | Showcase Template</title><link rel=manifest href=/showcase/manifest.json><link rel=icon href=/showcase/favicon.png type=image/x-icon><link rel=stylesheet href=/showcase/book.min.ab46de3e725a6415339a37bba23a0067534a37289b063c9f8d011515a63097a8.css integrity="sha256-q0bePnJaZBUzmje7ojoAZ1NKNyibBjyfjQEVFaYwl6g=" crossorigin=anonymous><script defer src=/showcase/flexsearch.min.js></script>
<script defer src=/showcase/en.search.min.baa5096079f7378b86917f44977826a02e43c30a8115a2bb96e170612c901558.js integrity="sha256-uqUJYHn3N4uGkX9El3gmoC5DwwqBFaK7luFwYSyQFVg=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/showcase/><span>Showcase Template</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Shortcodes</span><ul><li><a href=/showcase/docs/shortcodes/Alex-Jose-Alberto-Barreto-Cajica/>Alex Jose Alberto Barreto Cajica</a></li><li class=book-section-flat><input type=checkbox id=section-630935959cdea826d86db722189d9fc3 class=toggle checked>
<label for=section-630935959cdea826d86db722189d9fc3 class="flex justify-between"><a role=button>Alex Barreto Taller 3</a></label><ul><li><a href=/showcase/docs/shortcodes/Alex-Barreto-Taller-3/imageProcessingAB/ class=active>Image Processing Ab</a></li><li><a href=/showcase/docs/shortcodes/Alex-Barreto-Taller-3/proceduralTexturingAB/>Procedural Texturing Ab</a></li><li><a href=/showcase/docs/shortcodes/Alex-Barreto-Taller-3/ShadersColoring/>Shaders Coloring</a></li><li><a href=/showcase/docs/shortcodes/Alex-Barreto-Taller-3/texturing3d/>Texturing3d</a></li></ul></li><li><a href=/showcase/docs/shortcodes/Kevin-Leonardo-Alvarez-Mora/>Kevin Leonardo Alvarez Mora</a></li><li class=book-section-flat><input type=checkbox id=section-6c82348cc7e27aac3c1d770d323371bc class=toggle>
<label for=section-6c82348cc7e27aac3c1d770d323371bc class="flex justify-between"><a role=button>Kevin Alvarez Taller 3</a></label><ul><li><a href=/showcase/docs/shortcodes/Kevin-Alvarez-taller-3/Image-Processing/>Image Processing</a></li><li><a href=/showcase/docs/shortcodes/Kevin-Alvarez-taller-3/Normal-Map-Test/>Normal Map Test</a></li><li><a href=/showcase/docs/shortcodes/Kevin-Alvarez-taller-3/Procedural-Texturing/>Procedural Texturing</a></li><li><a href=/showcase/docs/shortcodes/Kevin-Alvarez-taller-3/Texture-Sampling/>Texture Sampling</a></li><li><a href=/showcase/docs/shortcodes/Kevin-Alvarez-taller-3/Texturing-and-Coloring/>Texturing and Coloring</a></li></ul></li><li class=book-section-flat><input type=checkbox id=section-0fadc94d8f5643cd50fedd7792885ef2 class=toggle>
<label for=section-0fadc94d8f5643cd50fedd7792885ef2 class="flex justify-between"><a role=button>Taller 1</a></label><ul><li><a href=/showcase/docs/shortcodes/Taller-1/Taller1/>Taller1</a></li><li><a href=/showcase/docs/shortcodes/Taller-1/webgltest/>Webgltest</a></li></ul></li><li class=book-section-flat><input type=checkbox id=section-95240f4003777a8a4aa5703702dd7bb0 class=toggle>
<label for=section-95240f4003777a8a4aa5703702dd7bb0 class="flex justify-between"><a role=button>Taller 2</a></label><ul><li><a href=/showcase/docs/shortcodes/Taller-2/3d-Brush/>3d Brush</a></li><li><a href=/showcase/docs/shortcodes/Taller-2/Rasterization/>Rasterization</a></li><li><a href=/showcase/docs/shortcodes/Taller-2/WebCamTest/>Web Cam Test</a></li></ul></li></ul></li></ul><ul><li><a href=/showcase/posts/>Blog</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/showcase/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Image Processing Ab</strong>
<label for=toc-control><img src=/showcase/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#procesamiento-digital-de-imágenes>Procesamiento digital de imágenes</a><ul><li><a href=#proceso-de-filtrado>Proceso de filtrado</a></li><li><a href=#kernel>Kernel</a></li><li><a href=#luminosidad>luminosidad</a></li><li><a href=#implementacion>Implementacion</a></li><li><a href=#resultados>Resultados</a></li><li><a href=#region-of-lupa>Region of Lupa</a></li><li><a href=#conclusiones-y-trabajo-futuro>Conclusiones y trabajo futuro</a><ul><li><a href=#conclusiones>CONCLUSIONES:</a></li><li><a href=#trabajo-futuro>TRABAJO FUTURO:</a></li></ul></li><li><a href=#referencias>Referencias</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=procesamiento-digital-de-imágenes>Procesamiento digital de imágenes
<a class=anchor href=#procesamiento-digital-de-im%c3%a1genes>#</a></h1><p>El procesamiento de imágenes digitales es el conjunto de técnicas que se aplican a las imágenes digitales con el objetivo de mejorar la calidad o facilitar la búsqueda de información.</p><h2 id=proceso-de-filtrado>Proceso de filtrado
<a class=anchor href=#proceso-de-filtrado>#</a></h2><p>Es el conjunto de técnicas englobadas dentro del preprocesamiento de imágenes cuyo objetivo fundamental es obtener, a partir de una imagen origen, otra final cuyo resultado sea más adecuado para una aplicación específica mejorando ciertas características de la misma que posibilite efectuar operaciones del procesado sobre ella.</p><p>Los principales objetivos que se persiguen con la aplicación de filtros son:</p><ul><li>Suavizar la imagen: reduce la cantidad de variaciones de intensidad entre píxeles vecinos.</li><li>Eliminar ruido: eliminar aquellos píxeles cuyo nivel de intensidad es muy diferente al de sus vecinos y cuyo origen puede estar tanto en el proceso de adquisición de la imagen como en el de transmisión.</li><li>Realzar bordes: destacar los bordes que se localizan en una imagen.</li><li>Detectar bordes: detectar los píxeles donde se produce un cambio brusco en la función intensidad.</li></ul><p>Por tanto, se consideran los filtros como operaciones que se aplican a los píxeles de una imagen digital para optimizarla, enfatizar cierta información o conseguir un efecto especial en ella.</p><p>El proceso de filtrado puede llevarse a cabo sobre los dominios de frecuencia y/o espacio, el trabajo llevado a lo largo del curso se realiza un filtrado y procesamiento en el espacio.</p><p>Las operaciones de filtrado se llevan a cabo directamente sobre los píxeles de la imagen. En este proceso se relaciona, para todos y cada uno de los puntos de la imagen, un conjunto de píxeles próximos al píxel objetivo con la finalidad de obtener una información útil, dependiente del tipo de filtro aplicado, que permita actuar sobre el píxel concreto en que se está llevando a cabo el proceso de filtrado para, de este modo, obtener mejoras sobre la imagen y/o datos que podrían ser utilizados en futuras acciones o procesos de trabajo sobre ella.</p><h2 id=kernel>Kernel
<a class=anchor href=#kernel>#</a></h2><p>Un kernel es una matriz pequeña que se utiliza para desenfocar, agudizar, grabar, detectar bordes, entre otros. Esto se logra mediante el proceso de agregar cada elemento de la imagen a sus vecinos locales, ponderados por el kernel.</p><h2 id=luminosidad>luminosidad
<a class=anchor href=#luminosidad>#</a></h2><p>La definición de una dimensión de luminosidad o valor no es obvia: hay varias posibilidades según el propósito y los objetivos de la representación.</p><p>Cuatro de las más comunes son:</p><ul><li>El enfoque más simple es el de la media aritmética de los tres componentes del color en el modelo RGB.</li></ul><p>I = avg(R,G,B)</p><ul><li>En el modelo HSV, el valor se define como el componente más grande de un color.</li></ul><p>V = max(R,G,B)</p><ul><li>En el modelo HSL, la luminosidad se define como el promedio de los componentes de color más grande y más pequeño.</li></ul><p>L = mid(R,G,B)</p><ul><li>Una alternativa más relevante es usar luma la cual consiste en calcular el promedio ponderado de R , G y B con corrección de gamma , en función de su contribución a la luminosidad percibida, utilizada durante mucho tiempo como la dimensión monocromática en la transmisión de televisión en color, la cual posee coeficientes distintos para cada componente del color con lo que el peso al momento de realizar el promedio no es igual por parte de cada componente.</li></ul><h2 id=implementacion>Implementacion
<a class=anchor href=#implementacion>#</a></h2><p>Con el uso de shaders la implementacion de cada una de las mascaros de convolucion o calculo de luminosidad para cada pixel de la imagen en codigo fuente no es facil de ver a primera vista, pero su eficiencia y simplificacion de codigo fuente permite un desarrollo que con pocas lineas se realizen transformaciones optimas.</p><p>Como primera aproximacion se replica la transformacion realizada en el libro <a href=https://visualcomputing.github.io/docs/shaders/image_processing/>Visual Computing</a></p><iframe id=maskAB style=width:680px;height:520px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.js></script> 
             <script src=https://cdn.jsdelivr.net/gh/freshfork/p5.EasyCam@1.2.1/p5.easycam.js></script> 
            
            
            
            <script src=/showcase/sketches/maskAB.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><p>Ademas de manera facil se puede aplicar las convoluciones o transformaciones de la imagen sobre un area en especifico sin afectar a la totalidad de la imagen e ir moviendo con el mouse el lugar donde se quiere aplicar la trasnformacion, o cambiando el tamaño del objeto mismo.
Basado en &ldquo;The Book of Shaders&rdquo; donde documentan la funcion <a href="https://thebookofshaders.com/glossary/?search=distance">Distance()</a>, se realizo la implementacion donde se genera una region circular que sigue el puntero al pasar sobre la imagen aplicando la transformacion deseada, ademas inspirado en <a href=https://setosa.io/ev/image-kernels/>Image Kernels</a> se crea una seccion de cajas de texto representativas al kernel, donde se pueden ir modificando los valores que se aplican en la convolucion.</p><h2 id=resultados>Resultados
<a class=anchor href=#resultados>#</a></h2><p>Por defecto se aplica un kernel de convolucion sobre la imagen, pero puede elegirse para aplicar sobre video, ademas de la transformacion a otros valores de luminosidad, para cuando se seleccione la aplicacion del kernel puede modificarse los valores y se vera el resultado de inmediato, ademas de poseer botones para aplicar mascaras ya definidas en la literatura.</p><iframe id=maskABEjersicio style=width:680px;height:1020px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.js></script> 
             <script src=https://cdn.jsdelivr.net/gh/freshfork/p5.EasyCam@1.2.1/p5.easycam.js></script> 
            
            
            
            <script src=/showcase/sketches/maskABEjersicio.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe>
<details><summary>mask.js</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>maskShader</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>img</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>video_src</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>video_on</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>mask</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>alto</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>500</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>radio</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>grey_scale</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>igrey_scale</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>vgrey_scale</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>lgrey_scale</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>let</span> <span style=color:#a6e22e>hsvgrey_scale</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>A</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>B</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>C</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>D</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>E</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>F</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>G</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>H</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>I</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>preload</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video_src</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createVideo</span>([<span style=color:#e6db74>&#39;/showcase/sketches/mandrill.webm&#39;</span>]);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maskShader</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>readShader</span>(<span style=color:#e6db74>&#39;/showcase/sketches/shaders/maskABExample.frag&#39;</span>, { <span style=color:#a6e22e>varyings</span><span style=color:#f92672>:</span> <span style=color:#a6e22e>Tree</span>.<span style=color:#a6e22e>texcoords2</span> });  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>img</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>loadImage</span>(<span style=color:#e6db74>&#39;/showcase/sketches/arboles.jpg&#39;</span>);  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>setup</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>createCanvas</span>(<span style=color:#ae81ff>650</span>, <span style=color:#a6e22e>alto</span>, <span style=color:#a6e22e>WEBGL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>noStroke</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>textureMode</span>(<span style=color:#a6e22e>NORMAL</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video_on</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;video&#39;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video_on</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;white&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video_on</span>.<span style=color:#a6e22e>changed</span>(() =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>video_on</span>.<span style=color:#a6e22e>checked</span>()) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>, <span style=color:#a6e22e>video_src</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>video_src</span>.<span style=color:#a6e22e>loop</span>();
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>, <span style=color:#a6e22e>img</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>video_src</span>.<span style=color:#a6e22e>pause</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video_on</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>30</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>mask</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;Aplicar mascara con los siguientes valores:&#39;</span>, <span style=color:#66d9ef>true</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>mask</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>70</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>mask</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;white&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>mask</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>maskmyCheckedEvent</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>shader</span>(<span style=color:#a6e22e>maskShader</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>, <span style=color:#a6e22e>img</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>emitTexOffset</span>(<span style=color:#a6e22e>maskShader</span>, <span style=color:#a6e22e>img</span>, <span style=color:#e6db74>&#39;texOffset&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>radio</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createSlider</span>(<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0.2</span>, <span style=color:#ae81ff>0.05</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>radio</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>50</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>radio</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;width&#39;</span>, <span style=color:#e6db74>&#39;280px&#39;</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>grey_scale</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;luma&#39;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>grey_scale</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>75</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>30</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>grey_scale</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;white&#39;</span>);  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>grey_scale</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>greymyCheckedEvent</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>igrey_scale</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;Promedio&#39;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>igrey_scale</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>130</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>30</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>igrey_scale</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;white&#39;</span>);  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>igrey_scale</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>imyCheckedEvent</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vgrey_scale</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;valor V&#39;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vgrey_scale</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>215</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>30</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vgrey_scale</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;white&#39;</span>);  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vgrey_scale</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>vmyCheckedEvent</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lgrey_scale</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;luminosidad L&#39;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lgrey_scale</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>285</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>30</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lgrey_scale</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;white&#39;</span>);  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>lgrey_scale</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>lmyCheckedEvent</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>hsvgrey_scale</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createCheckbox</span>(<span style=color:#e6db74>&#39;HSV&#39;</span>, <span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>hsvgrey_scale</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>400</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>30</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>hsvgrey_scale</span>.<span style=color:#a6e22e>style</span>(<span style=color:#e6db74>&#39;color&#39;</span>, <span style=color:#e6db74>&#39;white&#39;</span>);  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>hsvgrey_scale</span>.<span style=color:#a6e22e>changed</span>(<span style=color:#a6e22e>hsvmyCheckedEvent</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ASlider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ASlider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>100</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ASlider</span>.<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>BSlider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>BSlider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>80</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>100</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>BSlider</span>.<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>CSlider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>CSlider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>150</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>100</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>CSlider</span>.<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>DSlider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>DSlider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>130</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>DSlider</span>.<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ESlider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#ae81ff>8</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ESlider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>80</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>130</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ESlider</span>.<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>FSlider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>FSlider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>150</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>130</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>FSlider</span>.<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>GSlider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>GSlider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>160</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>GSlider</span>.<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>HSlider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>HSlider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>80</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>160</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>HSlider</span>.<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ISlider</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createInput</span>(<span style=color:#f92672>-</span><span style=color:#ae81ff>1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ISlider</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>150</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>160</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ISlider</span>.<span style=color:#a6e22e>size</span>(<span style=color:#ae81ff>60</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>button</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createButton</span>(<span style=color:#e6db74>&#39;Blur&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>button</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>190</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>button</span>.<span style=color:#a6e22e>mousePressed</span>(<span style=color:#a6e22e>blur</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>button</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createButton</span>(<span style=color:#e6db74>&#39;Outline&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>button</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>220</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>button</span>.<span style=color:#a6e22e>mousePressed</span>(<span style=color:#a6e22e>outline</span>);	
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>button</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createButton</span>(<span style=color:#e6db74>&#39;Right Sobel&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>button</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>250</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>button</span>.<span style=color:#a6e22e>mousePressed</span>(<span style=color:#a6e22e>ritsobel</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>button</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createButton</span>(<span style=color:#e6db74>&#39;Emboss&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>button</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>280</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>button</span>.<span style=color:#a6e22e>mousePressed</span>(<span style=color:#a6e22e>emboss</span>);	
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>button</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>createButton</span>(<span style=color:#e6db74>&#39;Bottom Sobel&#39;</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>button</span>.<span style=color:#a6e22e>position</span>(<span style=color:#ae81ff>10</span>, (<span style=color:#a6e22e>alto</span> <span style=color:#f92672>+</span><span style=color:#ae81ff>310</span>));
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>button</span>.<span style=color:#a6e22e>mousePressed</span>(<span style=color:#a6e22e>botsob</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>draw</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>background</span>(<span style=color:#ae81ff>0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;maskDefault&#39;</span>, [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>]);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>x_mouse</span> <span style=color:#f92672>=</span> parseFloat((<span style=color:#a6e22e>mouseX</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>pixelDensity</span>())<span style=color:#f92672>/</span><span style=color:#a6e22e>width</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>const</span> <span style=color:#a6e22e>y_mouse</span> <span style=color:#f92672>=</span> parseFloat(((<span style=color:#a6e22e>mouseY</span>) <span style=color:#f92672>*</span> <span style=color:#a6e22e>pixelDensity</span>())<span style=color:#f92672>/</span><span style=color:#a6e22e>height</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;radio&#39;</span>, <span style=color:#a6e22e>radio</span>.<span style=color:#a6e22e>value</span>()); 
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;mouse_position_x&#39;</span>, <span style=color:#a6e22e>x_mouse</span>); 
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;mouse_position_y&#39;</span>, <span style=color:#a6e22e>y_mouse</span>); 
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>A</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ASlider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>B</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>BSlider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>C</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>CSlider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>D</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>DSlider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>E</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ESlider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>F</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>FSlider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>G</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>GSlider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>H</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>HSlider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>I</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>ISlider</span>.<span style=color:#a6e22e>value</span>();
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;grey_scale&#39;</span>, <span style=color:#a6e22e>grey_scale</span>.<span style=color:#a6e22e>checked</span>());
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;igrey_scale&#39;</span>, <span style=color:#a6e22e>igrey_scale</span>.<span style=color:#a6e22e>checked</span>());
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;vgrey_scale&#39;</span>, <span style=color:#a6e22e>vgrey_scale</span>.<span style=color:#a6e22e>checked</span>());
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;lgrey_scale&#39;</span>, <span style=color:#a6e22e>lgrey_scale</span>.<span style=color:#a6e22e>checked</span>());
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;hsvgrey_scale&#39;</span>, <span style=color:#a6e22e>hsvgrey_scale</span>.<span style=color:#a6e22e>checked</span>());
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;mascara&#39;</span>, <span style=color:#a6e22e>mask</span>.<span style=color:#a6e22e>checked</span>());
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>video_on</span>.<span style=color:#a6e22e>changed</span>(() =&gt; {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>video_on</span>.<span style=color:#a6e22e>checked</span>()) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>, <span style=color:#a6e22e>video_src</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>video_src</span>.<span style=color:#a6e22e>loop</span>();
</span></span><span style=display:flex><span>    } <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;texture&#39;</span>, <span style=color:#a6e22e>img</span>);
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>video_src</span>.<span style=color:#a6e22e>pause</span>();
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  });
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>mask</span>.<span style=color:#a6e22e>checked</span>()) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;mask&#39;</span>, [<span style=color:#a6e22e>A</span>, <span style=color:#a6e22e>B</span>, <span style=color:#a6e22e>C</span>, <span style=color:#a6e22e>D</span>, <span style=color:#a6e22e>E</span>, <span style=color:#a6e22e>F</span>, <span style=color:#a6e22e>G</span>, <span style=color:#a6e22e>H</span>, <span style=color:#a6e22e>I</span>]);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>maskShader</span>.<span style=color:#a6e22e>setUniform</span>(<span style=color:#e6db74>&#39;mask&#39;</span>, [<span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>, <span style=color:#ae81ff>0</span>]);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>quad</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>width</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>, <span style=color:#a6e22e>height</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>botsob</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>A</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>B</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>C</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>D</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>E</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>F</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>G</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>H</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>I</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ASlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>A</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>BSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>B</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>CSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>C</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>DSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>D</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ESlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>E</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>FSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>F</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>GSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>G</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>HSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>H</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ISlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>I</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>outline</span>() {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>A</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>5</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>B</span><span style=color:#f92672>=</span><span style=color:#ae81ff>4</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>C</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>D</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>E</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>F</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>G</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>H</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>I</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ASlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>A</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>BSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>B</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>CSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>C</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>DSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>D</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ESlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>E</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>FSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>F</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>GSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>G</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>HSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>H</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ISlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>I</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>blur</span>() {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>A</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.0625</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>B</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.125</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>C</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.0625</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>D</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.125</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>E</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.25</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>F</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.125</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>G</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.0625</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>H</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.125</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>I</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.0625</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ASlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>A</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>BSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>B</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>CSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>C</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>DSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>D</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ESlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>E</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>FSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>F</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>GSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>G</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>HSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>H</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ISlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>I</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>ritsobel</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>A</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>32</span>;  
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>B</span><span style=color:#f92672>=</span><span style=color:#ae81ff>50</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>C</span><span style=color:#f92672>=</span><span style=color:#ae81ff>45</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>D</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>81</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>E</span><span style=color:#f92672>=</span><span style=color:#ae81ff>63</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>F</span><span style=color:#f92672>=</span><span style=color:#ae81ff>68</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>G</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>68</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>H</span><span style=color:#f92672>=</span><span style=color:#ae81ff>59</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>I</span><span style=color:#f92672>=</span><span style=color:#ae81ff>59</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ASlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>A</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>BSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>B</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>CSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>C</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>DSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>D</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ESlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>E</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>FSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>F</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>GSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>G</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>HSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>H</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ISlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>I</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span> 
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>emboss</span>(){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>A</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>1.8</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>B</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>C</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>D</span><span style=color:#f92672>=-</span><span style=color:#ae81ff>1</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>E</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1.5</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>F</span><span style=color:#f92672>=</span> <span style=color:#ae81ff>1.5</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>G</span><span style=color:#f92672>=</span><span style=color:#ae81ff>0.1</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>H</span><span style=color:#f92672>=</span><span style=color:#ae81ff>1.5</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>I</span><span style=color:#f92672>=</span><span style=color:#ae81ff>2.5</span>;
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ASlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>A</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>BSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>B</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>CSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>C</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>DSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>D</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ESlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>E</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>FSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>F</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>GSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>G</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>HSlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>H</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>ISlider</span>.<span style=color:#a6e22e>value</span>(<span style=color:#a6e22e>I</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>maskmyCheckedEvent</span>() {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>mask</span>.<span style=color:#a6e22e>checked</span>()) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>grey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>igrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vgrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lgrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hsvgrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;mascara!&#39;</span>);
</span></span><span style=display:flex><span>  } 
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>greymyCheckedEvent</span>() {
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>grey_scale</span>.<span style=color:#a6e22e>checked</span>()){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mask</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>igrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vgrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lgrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hsvgrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;grey_scale!&#39;</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>imyCheckedEvent</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>igrey_scale</span>.<span style=color:#a6e22e>checked</span>()){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mask</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>grey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vgrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lgrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hsvgrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;igrey_scale!&#39;</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>vmyCheckedEvent</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>vgrey_scale</span>.<span style=color:#a6e22e>checked</span>()){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mask</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>grey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>igrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lgrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hsvgrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;vgrey_scale!&#39;</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>lmyCheckedEvent</span>() {
</span></span><span style=display:flex><span>   <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>lgrey_scale</span>.<span style=color:#a6e22e>checked</span>()){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mask</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>grey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>igrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vgrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>hsvgrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;lgrey_scale!&#39;</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>function</span> <span style=color:#a6e22e>hsvmyCheckedEvent</span>() {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span> (<span style=color:#a6e22e>hsvgrey_scale</span>.<span style=color:#a6e22e>checked</span>()){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>mask</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>grey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>igrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vgrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>lgrey_scale</span>.<span style=color:#a6e22e>checked</span>(<span style=color:#66d9ef>false</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>console</span>.<span style=color:#a6e22e>log</span>(<span style=color:#e6db74>&#39;hsvgrey_scale!&#39;</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><details><summary>mask.frag</summary><div class=markdown-inner><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-js data-lang=js><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>precision</span> <span style=color:#a6e22e>mediump</span> <span style=color:#66d9ef>float</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>sampler2D</span> <span style=color:#a6e22e>texture</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>texOffset</span>;
</span></span><span style=display:flex><span><span style=color:#75715e>// holds the 3x3 kernel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>mask</span>[<span style=color:#ae81ff>9</span>];
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>maskDefault</span>[<span style=color:#ae81ff>9</span>];
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>radio</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>mouse_position_x</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>mouse_position_y</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>bool</span> <span style=color:#a6e22e>grey_scale</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>bool</span> <span style=color:#a6e22e>igrey_scale</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>bool</span> <span style=color:#a6e22e>vgrey_scale</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>bool</span> <span style=color:#a6e22e>lgrey_scale</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>bool</span> <span style=color:#a6e22e>hsvgrey_scale</span>;
</span></span><span style=display:flex><span><span style=color:#a6e22e>uniform</span> <span style=color:#a6e22e>bool</span> <span style=color:#a6e22e>mascara</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// we need our interpolated tex coord
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>varying</span> <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>texcoords2</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// returns luma of given texel
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Codigo tomado de https://visualcomputing.github.io/docs/shaders/texturing/#texture-sampling
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#66d9ef>float</span> <span style=color:#a6e22e>luma</span>(<span style=color:#a6e22e>vec3</span> <span style=color:#a6e22e>texel</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>0.299</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.587</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#ae81ff>0.114</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// returns the color HSV
</span></span></span><span style=display:flex><span><span style=color:#75715e>// Codigo tomado de http://lolengine.net/blog/2013/07/27/rgb-to-hsv-in-glsl
</span></span></span><span style=display:flex><span><span style=color:#75715e></span><span style=color:#a6e22e>vec3</span> <span style=color:#a6e22e>rgb2hsv</span>(<span style=color:#a6e22e>vec3</span> <span style=color:#a6e22e>c</span>)
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>K</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#ae81ff>0.0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1.0</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3.0</span>, <span style=color:#ae81ff>2.0</span> <span style=color:#f92672>/</span> <span style=color:#ae81ff>3.0</span>, <span style=color:#f92672>-</span><span style=color:#ae81ff>1.0</span>);
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>p</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>mix</span>(<span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>bg</span>, <span style=color:#a6e22e>K</span>.<span style=color:#a6e22e>wz</span>), <span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>gb</span>, <span style=color:#a6e22e>K</span>.<span style=color:#a6e22e>xy</span>), <span style=color:#a6e22e>step</span>(<span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>b</span>, <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>g</span>));
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>q</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>mix</span>(<span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>xyw</span>, <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>r</span>), <span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>r</span>, <span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>yzx</span>), <span style=color:#a6e22e>step</span>(<span style=color:#a6e22e>p</span>.<span style=color:#a6e22e>x</span>, <span style=color:#a6e22e>c</span>.<span style=color:#a6e22e>r</span>));
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>d</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>q</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>min</span>(<span style=color:#a6e22e>q</span>.<span style=color:#a6e22e>w</span>, <span style=color:#a6e22e>q</span>.<span style=color:#a6e22e>y</span>);
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>e</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>1.0</span><span style=color:#a6e22e>e</span><span style=color:#f92672>-</span><span style=color:#ae81ff>10</span>;
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>vec3</span>(<span style=color:#a6e22e>abs</span>(<span style=color:#a6e22e>q</span>.<span style=color:#a6e22e>z</span> <span style=color:#f92672>+</span> (<span style=color:#a6e22e>q</span>.<span style=color:#a6e22e>w</span> <span style=color:#f92672>-</span> <span style=color:#a6e22e>q</span>.<span style=color:#a6e22e>y</span>) <span style=color:#f92672>/</span> (<span style=color:#ae81ff>6.0</span> <span style=color:#f92672>*</span> <span style=color:#a6e22e>d</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>e</span>)), <span style=color:#a6e22e>d</span> <span style=color:#f92672>/</span> (<span style=color:#a6e22e>q</span>.<span style=color:#a6e22e>x</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>e</span>), <span style=color:#a6e22e>q</span>.<span style=color:#a6e22e>x</span>);
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e>// insperado en las ecuaciones de luminicidad presentadas en 
</span></span></span><span style=display:flex><span><span style=color:#75715e>// https://en.wikipedia.org/wiki/HSL_and_HSV#:~:text=of%20about%2013.4%25.-,Lightness,-%5Bedit%5D
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> <span style=color:#a6e22e>Irgb</span>(<span style=color:#a6e22e>vec3</span> <span style=color:#a6e22e>texel</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span>)<span style=color:#f92672>/</span><span style=color:#ae81ff>3.0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> <span style=color:#a6e22e>Vhsv</span>(<span style=color:#a6e22e>vec3</span> <span style=color:#a6e22e>texel</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>M</span> <span style=color:#f92672>=</span><span style=color:#ae81ff>0.0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>M</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>M</span><span style=color:#f92672>=</span><span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>M</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>M</span><span style=color:#f92672>=</span><span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>M</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>M</span><span style=color:#f92672>=</span><span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> <span style=color:#a6e22e>M</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>float</span> <span style=color:#a6e22e>Lhsl</span>(<span style=color:#a6e22e>vec3</span> <span style=color:#a6e22e>texel</span>) {
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>M</span> <span style=color:#f92672>=</span><span style=color:#ae81ff>0.0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>M</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>M</span><span style=color:#f92672>=</span><span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>M</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>M</span><span style=color:#f92672>=</span><span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span><span style=color:#f92672>&gt;</span><span style=color:#a6e22e>M</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>M</span><span style=color:#f92672>=</span><span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>min</span> <span style=color:#f92672>=</span><span style=color:#ae81ff>255.0</span>;
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>min</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>min</span><span style=color:#f92672>=</span><span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>r</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>min</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>min</span><span style=color:#f92672>=</span><span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>g</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>min</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>min</span><span style=color:#f92672>=</span><span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>b</span>;
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>return</span> (<span style=color:#a6e22e>M</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>min</span>)<span style=color:#f92672>/</span><span style=color:#ae81ff>2.0</span>;
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>void</span> <span style=color:#a6e22e>main</span>() {
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>st</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec2</span>(<span style=color:#a6e22e>mouse_position_x</span>,<span style=color:#a6e22e>mouse_position_y</span>);
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>float</span> <span style=color:#a6e22e>pct</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0.0</span>;
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>pct</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>distance</span>(<span style=color:#a6e22e>st</span>,<span style=color:#a6e22e>texcoords2</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#75715e>// 1. Use offset to move along texture space.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#75715e>// In this case to find the texcoords of the texel neighbours.
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>tc0</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texcoords2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>vec2</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>texOffset</span>.<span style=color:#a6e22e>s</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>texOffset</span>.<span style=color:#a6e22e>t</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>tc1</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texcoords2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>vec2</span>(         <span style=color:#ae81ff>0.0</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>texOffset</span>.<span style=color:#a6e22e>t</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>tc2</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texcoords2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>vec2</span>(<span style=color:#f92672>+</span><span style=color:#a6e22e>texOffset</span>.<span style=color:#a6e22e>s</span>, <span style=color:#f92672>-</span><span style=color:#a6e22e>texOffset</span>.<span style=color:#a6e22e>t</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>tc3</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texcoords2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>vec2</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>texOffset</span>.<span style=color:#a6e22e>s</span>,          <span style=color:#ae81ff>0.0</span>);
</span></span><span style=display:flex><span>  <span style=color:#75715e>// origin (current fragment texcoords)
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>tc4</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texcoords2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>vec2</span>(         <span style=color:#ae81ff>0.0</span>,          <span style=color:#ae81ff>0.0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>tc5</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texcoords2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>vec2</span>(<span style=color:#f92672>+</span><span style=color:#a6e22e>texOffset</span>.<span style=color:#a6e22e>s</span>,          <span style=color:#ae81ff>0.0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>tc6</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texcoords2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>vec2</span>(<span style=color:#f92672>-</span><span style=color:#a6e22e>texOffset</span>.<span style=color:#a6e22e>s</span>, <span style=color:#f92672>+</span><span style=color:#a6e22e>texOffset</span>.<span style=color:#a6e22e>t</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>tc7</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texcoords2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>vec2</span>(         <span style=color:#ae81ff>0.0</span>, <span style=color:#f92672>+</span><span style=color:#a6e22e>texOffset</span>.<span style=color:#a6e22e>t</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec2</span> <span style=color:#a6e22e>tc8</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texcoords2</span> <span style=color:#f92672>+</span> <span style=color:#a6e22e>vec2</span>(<span style=color:#f92672>+</span><span style=color:#a6e22e>texOffset</span>.<span style=color:#a6e22e>s</span>, <span style=color:#f92672>+</span><span style=color:#a6e22e>texOffset</span>.<span style=color:#a6e22e>t</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// 2. Sample texel neighbours within the rgba array
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>rgba</span>[<span style=color:#ae81ff>9</span>];
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rgba</span>[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span>(<span style=color:#a6e22e>texture</span>, <span style=color:#a6e22e>tc0</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rgba</span>[<span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span>(<span style=color:#a6e22e>texture</span>, <span style=color:#a6e22e>tc1</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rgba</span>[<span style=color:#ae81ff>2</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span>(<span style=color:#a6e22e>texture</span>, <span style=color:#a6e22e>tc2</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rgba</span>[<span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span>(<span style=color:#a6e22e>texture</span>, <span style=color:#a6e22e>tc3</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rgba</span>[<span style=color:#ae81ff>4</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span>(<span style=color:#a6e22e>texture</span>, <span style=color:#a6e22e>tc4</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rgba</span>[<span style=color:#ae81ff>5</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span>(<span style=color:#a6e22e>texture</span>, <span style=color:#a6e22e>tc5</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rgba</span>[<span style=color:#ae81ff>6</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span>(<span style=color:#a6e22e>texture</span>, <span style=color:#a6e22e>tc6</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rgba</span>[<span style=color:#ae81ff>7</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span>(<span style=color:#a6e22e>texture</span>, <span style=color:#a6e22e>tc7</span>);
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>rgba</span>[<span style=color:#ae81ff>8</span>] <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span>(<span style=color:#a6e22e>texture</span>, <span style=color:#a6e22e>tc8</span>);
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#75715e>// 3. Apply convolution kernel
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>convolution</span>;
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>pct</span><span style=color:#f92672>&lt;</span><span style=color:#a6e22e>radio</span>){
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>vec4</span> <span style=color:#a6e22e>texel</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>texture2D</span>(<span style=color:#a6e22e>texture</span>, <span style=color:#a6e22e>texcoords2</span>);
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>grey_scale</span>){    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>convolution</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>vec3</span>(<span style=color:#a6e22e>luma</span>(<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>rgb</span>)), <span style=color:#ae81ff>1.0</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>igrey_scale</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>convolution</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>vec3</span>(<span style=color:#a6e22e>Irgb</span>(<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>rgb</span>)), <span style=color:#ae81ff>1.0</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>vgrey_scale</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>convolution</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>vec3</span>(<span style=color:#a6e22e>Vhsv</span>(<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>rgb</span>)), <span style=color:#ae81ff>1.0</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>lgrey_scale</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>convolution</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>vec3</span>(<span style=color:#a6e22e>Lhsl</span>(<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>rgb</span>)), <span style=color:#ae81ff>1.0</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>hsvgrey_scale</span>){
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>convolution</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>rgb2hsv</span>(<span style=color:#a6e22e>texel</span>.<span style=color:#a6e22e>rgb</span>), <span style=color:#ae81ff>1.0</span>);
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span> <span style=color:#66d9ef>if</span>(<span style=color:#a6e22e>mascara</span>){
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>convolution</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>rgba</span>[<span style=color:#a6e22e>i</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>mask</span>[<span style=color:#a6e22e>i</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>  {
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>convolution</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>rgba</span>[<span style=color:#a6e22e>i</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>maskDefault</span>[<span style=color:#a6e22e>i</span>];
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span><span style=color:#66d9ef>else</span>
</span></span><span style=display:flex><span>{
</span></span><span style=display:flex><span>  <span style=color:#66d9ef>for</span> (<span style=color:#66d9ef>int</span> <span style=color:#a6e22e>i</span> <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>; <span style=color:#a6e22e>i</span> <span style=color:#f92672>&lt;</span> <span style=color:#ae81ff>9</span>; <span style=color:#a6e22e>i</span><span style=color:#f92672>++</span>) {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>convolution</span> <span style=color:#f92672>+=</span> <span style=color:#a6e22e>rgba</span>[<span style=color:#a6e22e>i</span>]<span style=color:#f92672>*</span><span style=color:#a6e22e>maskDefault</span>[<span style=color:#a6e22e>i</span>];
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>}
</span></span><span style=display:flex><span>  <span style=color:#75715e>// 4. Set color from convolution
</span></span></span><span style=display:flex><span><span style=color:#75715e></span>  <span style=color:#a6e22e>gl_FragColor</span> <span style=color:#f92672>=</span> <span style=color:#a6e22e>vec4</span>(<span style=color:#a6e22e>convolution</span>.<span style=color:#a6e22e>rgb</span>, <span style=color:#ae81ff>1.0</span>); 
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>  
</span></span><span style=display:flex><span>}
</span></span></code></pre></div></div></details><h2 id=region-of-lupa>Region of Lupa
<a class=anchor href=#region-of-lupa>#</a></h2><iframe id=maskABLupa style=width:680px;height:1020px srcdoc="
        <!DOCTYPE html>
        <html>
          <head>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/p5.min.js></script>
            <script src=https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.4.1/addons/p5.sound.min.js></script>
             <script src=https://cdn.jsdelivr.net/gh/VisualComputing/p5.treegl/p5.treegl.js></script> 
             <script src=https://cdn.jsdelivr.net/gh/freshfork/p5.EasyCam@1.2.1/p5.easycam.js></script> 
            
            
            
            <script src=/showcase/sketches/maskABLupa.js></script>
          </head>
          <body>
          </body>
        </html>
      "></iframe><h2 id=conclusiones-y-trabajo-futuro>Conclusiones y trabajo futuro
<a class=anchor href=#conclusiones-y-trabajo-futuro>#</a></h2><h3 id=conclusiones>CONCLUSIONES:
<a class=anchor href=#conclusiones>#</a></h3><ul><li>El procesamiento de imágenes realizado por software y secuencialmente toma demasiado tiempo de procesamiento, pero con el uso de shaders, el tiempo ya no es un problema, la diferencia entre los tiempos de renderizacion de la implementacion del taller 1 a lo realizado en este punto es muy grande, en la primera entrega era necesario diligenciar los valores de la matriz y luego si lanzar la convolucion pero tardaba demasiado, en este punto se pueden realizar los cambios en linea y los resultados se ven de inmediato, visualizando las implementaciones en equipos de las mismas condiciones.</li></ul><h3 id=trabajo-futuro>TRABAJO FUTURO:
<a class=anchor href=#trabajo-futuro>#</a></h3><ul><li>Como trabajo futuro, se espera poder aplicar un mayor número de filtros a una misma imagen, individualmente y combinados, ya que la combinación de diferentes kernels puede dar mejores resultados. Según la aplicación, es posible que desee aplicar un filtro que elimine las imperfecciones o suavice una imagen y luego aplicar otro que detecte los bordes.</li></ul><h2 id=referencias>Referencias
<a class=anchor href=#referencias>#</a></h2><ul><li><a href=https://visualcomputing.github.io/docs/illusions/masking/>https://visualcomputing.github.io/docs/illusions/masking/</a></li><li><a href=https://visualcomputing.github.io/docs/shaders/image_processing/>https://visualcomputing.github.io/docs/shaders/image_processing/</a></li><li><a href=https://es.wikipedia.org/wiki/Procesamiento_digital_de_im%C3%A1genes>https://es.wikipedia.org/wiki/Procesamiento_digital_de_im%C3%A1genes</a></li><li><a href=https://en.wikipedia.org/wiki/Kernel_%28image_processing%29>https://en.wikipedia.org/wiki/Kernel_%28image_processing%29</a></li><li><a href=https://en.wikipedia.org/wiki/HSL_and_HSV>https://en.wikipedia.org/wiki/HSL_and_HSV</a></li><li><a href=https://setosa.io/ev/image-kernels/>https://setosa.io/ev/image-kernels/</a></li><li><a href="https://thebookofshaders.com/glossary/?search=distance">https://thebookofshaders.com/glossary/?search=distance</a></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/visualcomputing/showcase/commit/a400944643404e13b59b16f8e87f0e61b0d16aad title='Last modified by ABarreto | June 28, 2022' target=_blank rel=noopener><img src=/showcase/svg/calendar.svg class=book-icon alt=Calendar>
<span>June 28, 2022</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#procesamiento-digital-de-imágenes>Procesamiento digital de imágenes</a><ul><li><a href=#proceso-de-filtrado>Proceso de filtrado</a></li><li><a href=#kernel>Kernel</a></li><li><a href=#luminosidad>luminosidad</a></li><li><a href=#implementacion>Implementacion</a></li><li><a href=#resultados>Resultados</a></li><li><a href=#region-of-lupa>Region of Lupa</a></li><li><a href=#conclusiones-y-trabajo-futuro>Conclusiones y trabajo futuro</a><ul><li><a href=#conclusiones>CONCLUSIONES:</a></li><li><a href=#trabajo-futuro>TRABAJO FUTURO:</a></li></ul></li><li><a href=#referencias>Referencias</a></li></ul></li></ul></nav></div></aside></main></body></html>